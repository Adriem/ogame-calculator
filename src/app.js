var module;

module = angular.module("ogameCalculator", []).controller("mainController", function($scope, Planet, Account) {
  var numPlanets;
  numPlanets = 0;

  /* SETTINGS */
  $scope.K_THRESHOLD = 10000;
  $scope.M_THRESHOLD = 1000000;
  $scope.shortenResults = true;

  /* AUX */
  $scope.editPlanet = void 0;

  /* DATA */
  $scope.player = new Account();

  /* FUNCTIONS */
  $scope.createPlanet = function() {
    $scope.player.addPlanet(new Planet("Planet " + (++numPlanets), [1, 1, 1], 50));
    return null;
  };
  $scope.removePlanet = function(position) {
    $scope.player.removePlanet(position, 1);
    return null;
  };
  $scope.getHourlyMetalProduction = function() {
    var production;
    production = $scope.player.getMetalProduction();
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getHourlyCrystalProduction = function() {
    var production;
    production = $scope.player.getCrystalProduction();
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getHourlyDeuteriumProduction = function() {
    var production;
    production = $scope.player.getDeuteriumProduction();
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getDailyMetalProduction = function() {
    var production;
    production = $scope.player.getMetalProduction() * 24;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getDailyCrystalProduction = function() {
    var production;
    production = $scope.player.getCrystalProduction() * 24;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getDailyDeuteriumProduction = function() {
    var production;
    production = $scope.player.getDeuteriumProduction() * 24;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getWeeklyMetalProduction = function() {
    var production;
    production = $scope.player.getMetalProduction() * 24 * 7;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getWeeklyCrystalProduction = function() {
    var production;
    production = $scope.player.getCrystalProduction() * 24 * 7;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  $scope.getWeeklyDeuteriumProduction = function() {
    var production;
    production = $scope.player.getDeuteriumProduction() * 24 * 7;
    if (production > $scope.M_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000000),
        multiplier: "M"
      };
    } else if (production > $scope.K_THRESHOLD && $scope.shortenResults) {
      return {
        value: Math.floor(production / 1000),
        multiplier: "k"
      };
    } else {
      return {
        value: production,
        multiplier: ""
      };
    }
  };
  return null;
});

//# sourceMappingURL=data:application/json;base64,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dGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcIm9nYW1lQ2FsY3VsYXRvclwiLCBbXSlcclxuXHJcbi5jb250cm9sbGVyIFwibWFpbkNvbnRyb2xsZXJcIiwgKCRzY29wZSwgUGxhbmV0LCBBY2NvdW50KSAtPlxyXG5cclxuICBudW1QbGFuZXRzID0gMFxyXG5cclxuICAjIyMgU0VUVElOR1MgIyMjXHJcbiAgJHNjb3BlLktfVEhSRVNIT0xEID0gMTAwMDBcclxuICAkc2NvcGUuTV9USFJFU0hPTEQgPSAxMDAwMDAwXHJcbiAgJHNjb3BlLnNob3J0ZW5SZXN1bHRzID0gdHJ1ZVxyXG5cclxuICAjIyMgQVVYICMjI1xyXG4gICRzY29wZS5lZGl0UGxhbmV0ID0gdW5kZWZpbmVkXHJcblxyXG4gICMjIyBEQVRBICMjI1xyXG4gICRzY29wZS5wbGF5ZXIgPSBuZXcgQWNjb3VudCgpXHJcblxyXG4gICMjIyBGVU5DVElPTlMgIyMjXHJcbiAgJHNjb3BlLmNyZWF0ZVBsYW5ldCA9IC0+XHJcbiAgICAkc2NvcGUucGxheWVyLmFkZFBsYW5ldChuZXcgUGxhbmV0KFwiUGxhbmV0ICN7KytudW1QbGFuZXRzfVwiLCBbMSwxLDFdLCA1MCkpXHJcbiAgICBudWxsO1xyXG5cclxuICAkc2NvcGUucmVtb3ZlUGxhbmV0ID0gKHBvc2l0aW9uKSAtPlxyXG4gICAgJHNjb3BlLnBsYXllci5yZW1vdmVQbGFuZXQocG9zaXRpb24sIDEpXHJcbiAgICBudWxsXHJcblxyXG4gICRzY29wZS5nZXRIb3VybHlNZXRhbFByb2R1Y3Rpb24gPSAtPlxyXG4gICAgcHJvZHVjdGlvbiA9ICRzY29wZS5wbGF5ZXIuZ2V0TWV0YWxQcm9kdWN0aW9uKClcclxuICAgIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuTV9USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMDAwMCwgbXVsdGlwbGllcjogXCJNXCJ9XHJcbiAgICBlbHNlIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuS19USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMCwgbXVsdGlwbGllcjogXCJrXCJ9XHJcbiAgICBlbHNlIHt2YWx1ZTogcHJvZHVjdGlvbiwgbXVsdGlwbGllcjogXCJcIn1cclxuXHJcbiAgJHNjb3BlLmdldEhvdXJseUNyeXN0YWxQcm9kdWN0aW9uID0gLT5cclxuICAgIHByb2R1Y3Rpb24gPSAkc2NvcGUucGxheWVyLmdldENyeXN0YWxQcm9kdWN0aW9uKClcclxuICAgIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuTV9USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMDAwMCwgbXVsdGlwbGllcjogXCJNXCJ9XHJcbiAgICBlbHNlIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuS19USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMCwgbXVsdGlwbGllcjogXCJrXCJ9XHJcbiAgICBlbHNlIHt2YWx1ZTogcHJvZHVjdGlvbiwgbXVsdGlwbGllcjogXCJcIn1cclxuXHJcbiAgJHNjb3BlLmdldEhvdXJseURldXRlcml1bVByb2R1Y3Rpb24gPSAtPlxyXG4gICAgcHJvZHVjdGlvbiA9ICRzY29wZS5wbGF5ZXIuZ2V0RGV1dGVyaXVtUHJvZHVjdGlvbigpXHJcbiAgICBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLk1fVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAwMDAsIG11bHRpcGxpZXI6IFwiTVwifVxyXG4gICAgZWxzZSBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLktfVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAsIG11bHRpcGxpZXI6IFwia1wifVxyXG4gICAgZWxzZSB7dmFsdWU6IHByb2R1Y3Rpb24sIG11bHRpcGxpZXI6IFwiXCJ9XHJcblxyXG4gICRzY29wZS5nZXREYWlseU1ldGFsUHJvZHVjdGlvbiA9IC0+XHJcbiAgICBwcm9kdWN0aW9uID0gJHNjb3BlLnBsYXllci5nZXRNZXRhbFByb2R1Y3Rpb24oKSAqIDI0XHJcbiAgICBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLk1fVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAwMDAsIG11bHRpcGxpZXI6IFwiTVwifVxyXG4gICAgZWxzZSBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLktfVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAsIG11bHRpcGxpZXI6IFwia1wifVxyXG4gICAgZWxzZSB7dmFsdWU6IHByb2R1Y3Rpb24sIG11bHRpcGxpZXI6IFwiXCJ9XHJcblxyXG4gICRzY29wZS5nZXREYWlseUNyeXN0YWxQcm9kdWN0aW9uID0gLT5cclxuICAgIHByb2R1Y3Rpb24gPSAkc2NvcGUucGxheWVyLmdldENyeXN0YWxQcm9kdWN0aW9uKCkgKiAyNFxyXG4gICAgaWYgcHJvZHVjdGlvbiA+ICRzY29wZS5NX1RIUkVTSE9MRCAmJiAkc2NvcGUuc2hvcnRlblJlc3VsdHNcclxuICAgICAge3ZhbHVlOiBwcm9kdWN0aW9uLy8xMDAwMDAwLCBtdWx0aXBsaWVyOiBcIk1cIn1cclxuICAgIGVsc2UgaWYgcHJvZHVjdGlvbiA+ICRzY29wZS5LX1RIUkVTSE9MRCAmJiAkc2NvcGUuc2hvcnRlblJlc3VsdHNcclxuICAgICAge3ZhbHVlOiBwcm9kdWN0aW9uLy8xMDAwLCBtdWx0aXBsaWVyOiBcImtcIn1cclxuICAgIGVsc2Uge3ZhbHVlOiBwcm9kdWN0aW9uLCBtdWx0aXBsaWVyOiBcIlwifVxyXG5cclxuICAkc2NvcGUuZ2V0RGFpbHlEZXV0ZXJpdW1Qcm9kdWN0aW9uID0gLT5cclxuICAgIHByb2R1Y3Rpb24gPSAkc2NvcGUucGxheWVyLmdldERldXRlcml1bVByb2R1Y3Rpb24oKSAqIDI0XHJcbiAgICBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLk1fVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAwMDAsIG11bHRpcGxpZXI6IFwiTVwifVxyXG4gICAgZWxzZSBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLktfVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAsIG11bHRpcGxpZXI6IFwia1wifVxyXG4gICAgZWxzZSB7dmFsdWU6IHByb2R1Y3Rpb24sIG11bHRpcGxpZXI6IFwiXCJ9XHJcblxyXG4gICRzY29wZS5nZXRXZWVrbHlNZXRhbFByb2R1Y3Rpb24gPSAtPlxyXG4gICAgcHJvZHVjdGlvbiA9ICRzY29wZS5wbGF5ZXIuZ2V0TWV0YWxQcm9kdWN0aW9uKCkgKiAyNCAqIDdcclxuICAgIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuTV9USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMDAwMCwgbXVsdGlwbGllcjogXCJNXCJ9XHJcbiAgICBlbHNlIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuS19USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMCwgbXVsdGlwbGllcjogXCJrXCJ9XHJcbiAgICBlbHNlIHt2YWx1ZTogcHJvZHVjdGlvbiwgbXVsdGlwbGllcjogXCJcIn1cclxuXHJcbiAgJHNjb3BlLmdldFdlZWtseUNyeXN0YWxQcm9kdWN0aW9uID0gLT5cclxuICAgIHByb2R1Y3Rpb24gPSAkc2NvcGUucGxheWVyLmdldENyeXN0YWxQcm9kdWN0aW9uKCkgKiAyNCAqIDdcclxuICAgIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuTV9USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMDAwMCwgbXVsdGlwbGllcjogXCJNXCJ9XHJcbiAgICBlbHNlIGlmIHByb2R1Y3Rpb24gPiAkc2NvcGUuS19USFJFU0hPTEQgJiYgJHNjb3BlLnNob3J0ZW5SZXN1bHRzXHJcbiAgICAgIHt2YWx1ZTogcHJvZHVjdGlvbi8vMTAwMCwgbXVsdGlwbGllcjogXCJrXCJ9XHJcbiAgICBlbHNlIHt2YWx1ZTogcHJvZHVjdGlvbiwgbXVsdGlwbGllcjogXCJcIn1cclxuXHJcbiAgJHNjb3BlLmdldFdlZWtseURldXRlcml1bVByb2R1Y3Rpb24gPSAtPlxyXG4gICAgcHJvZHVjdGlvbiA9ICRzY29wZS5wbGF5ZXIuZ2V0RGV1dGVyaXVtUHJvZHVjdGlvbigpICogMjQgKiA3XHJcbiAgICBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLk1fVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAwMDAsIG11bHRpcGxpZXI6IFwiTVwifVxyXG4gICAgZWxzZSBpZiBwcm9kdWN0aW9uID4gJHNjb3BlLktfVEhSRVNIT0xEICYmICRzY29wZS5zaG9ydGVuUmVzdWx0c1xyXG4gICAgICB7dmFsdWU6IHByb2R1Y3Rpb24vLzEwMDAsIG11bHRpcGxpZXI6IFwia1wifVxyXG4gICAgZWxzZSB7dmFsdWU6IHByb2R1Y3Rpb24sIG11bHRpcGxpZXI6IFwiXCJ9XHJcblxyXG4gIHJldHVybiBudWxsXHJcblxyXG4iXX0=