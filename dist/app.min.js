var module,out;module=angular.module("ogameCalculator",[]),out={verbose:function(string){return console.log("%c"+string,"color: #BBB;")},log:function(string){return console.log(string)},debug:function(string){return console.log("%c"+string,"color: #08D;")},success:function(string){return console.log("%c"+string,"color: #0A0;")},warning:function(string){return console.log("%c"+string,"color: #D70;")},error:function(string){return console.log("%c"+string,"color: #D00;")}},module.config(["$compileProvider",function($compileProvider){return $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|blob):/)}]),module.controller("mainController",function($scope,Planet,Account,AccountLoader){var PLAYER_KEY,editIndex,i,len,planet,ref;for($scope.AMPLIFIER_LIST=Planet.amplifierList,PLAYER_KEY="playerInfo",$scope.auxPlanet=new Planet,$scope.showModalDialog=!1,editIndex=-1,$scope.player=AccountLoader.loadAccount(PLAYER_KEY),$scope.exchangeData={exportUrl:"#",importFile:null},ref=$scope.player.planets,i=0,len=ref.length;len>i;i++)planet=ref[i],null==planet.metalAmplifier&&(planet.metalAmplifier=0),null==planet.crystalAmplifier&&(planet.crystalAmplifier=0),null==planet.deuteriumAmplifier&&(planet.deuteriumAmplifier=0);return $scope.$watch("player",function(){return AccountLoader.storeAccount(PLAYER_KEY,$scope.player),$scope.exchangeData.exportUrl=URL.createObjectURL(new Blob([JSON.stringify($scope.player)],{type:"application/json"}))},!0),$scope.$watch("exchangeData.importFile",function(){var reader;return $scope.exchangeData.importFile?(out.debug("Import file changed: '"+$scope.exchangeData.importFile.name+"'"),reader=new FileReader,reader.onload=function(evt){return $scope.$apply(function(){var json;return json=evt.target.result,$scope.player=Account.getFromTemplate(JSON.parse(json))})},reader.readAsText($scope.exchangeData.importFile)):out.debug("Empty import file!")}),$scope.createPlanet=function(){return $scope.auxPlanet=new Planet("New Planet",[1,1,1],50),$scope.showModalDialog=!0,editIndex=-1},$scope.editPlanet=function(index){return planet=$scope.player.planets[index],$scope.auxPlanet=new Planet(planet.name,[planet.coordinates[0],planet.coordinates[1],planet.coordinates[2]],planet.maxTemp),$scope.showModalDialog=!0,editIndex=index},$scope.savePlanet=function(){return editIndex>=0?(planet=$scope.player.planets[editIndex],planet.name=$scope.auxPlanet.name,planet.coordinates=$scope.auxPlanet.coordinates,planet.maxTemp=$scope.auxPlanet.maxTemp):$scope.player.addPlanet($scope.auxPlanet)},$scope.movePlanet=function(startPos,finalPos){return out.success("Moving planet "+startPos+" to "+finalPos),$scope.player.movePlanet(startPos,finalPos)},$scope.removePlanet=function(position){return $scope.player.removePlanet(position,1)},$scope.clearLocalData=function(){return localStorage.clear(),$scope.player=AccountLoader.loadAccount()},null});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJhcHAuanMiXSwibmFtZXMiOlsibW9kdWxlIiwib3V0IiwiYW5ndWxhciIsInZlcmJvc2UiLCJzdHJpbmciLCJjb25zb2xlIiwibG9nIiwiZGVidWciLCJzdWNjZXNzIiwid2FybmluZyIsImVycm9yIiwiY29uZmlnIiwiJGNvbXBpbGVQcm92aWRlciIsImFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwiY29udHJvbGxlciIsIiRzY29wZSIsIlBsYW5ldCIsIkFjY291bnQiLCJBY2NvdW50TG9hZGVyIiwiUExBWUVSX0tFWSIsImVkaXRJbmRleCIsImkiLCJsZW4iLCJwbGFuZXQiLCJyZWYiLCJBTVBMSUZJRVJfTElTVCIsImFtcGxpZmllckxpc3QiLCJhdXhQbGFuZXQiLCJzaG93TW9kYWxEaWFsb2ciLCJwbGF5ZXIiLCJsb2FkQWNjb3VudCIsImV4Y2hhbmdlRGF0YSIsImV4cG9ydFVybCIsImltcG9ydEZpbGUiLCJwbGFuZXRzIiwibGVuZ3RoIiwibWV0YWxBbXBsaWZpZXIiLCJjcnlzdGFsQW1wbGlmaWVyIiwiZGV1dGVyaXVtQW1wbGlmaWVyIiwiJHdhdGNoIiwic3RvcmVBY2NvdW50IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwicmVhZGVyIiwibmFtZSIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldnQiLCIkYXBwbHkiLCJqc29uIiwidGFyZ2V0IiwicmVzdWx0IiwiZ2V0RnJvbVRlbXBsYXRlIiwicGFyc2UiLCJyZWFkQXNUZXh0IiwiY3JlYXRlUGxhbmV0IiwiZWRpdFBsYW5ldCIsImluZGV4IiwiY29vcmRpbmF0ZXMiLCJtYXhUZW1wIiwic2F2ZVBsYW5ldCIsImFkZFBsYW5ldCIsIm1vdmVQbGFuZXQiLCJzdGFydFBvcyIsImZpbmFsUG9zIiwicmVtb3ZlUGxhbmV0IiwicG9zaXRpb24iLCJjbGVhckxvY2FsRGF0YSIsImxvY2FsU3RvcmFnZSIsImNsZWFy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LEtBQy9CekIsT0FBT3VDLFlBQWMvQyxPQUFPWSxVQUFVbUMsWUFDdEN2QyxPQUFPd0MsUUFBVWhELE9BQU9ZLFVBQVVvQyxTQUMvQmhELE9BQU9jLE9BQU9vQyxVQUFVbEQsT0FBT1ksWUFFdENaLE9BQU9tRCxXQUFhLFNBQUNDLFNBQVVDLFVDK0I3QixNRDlCQW5FLEtBQUlPLFFBQVEsaUJBQWlCMkQsU0FBUyxPQUFNQyxVQUM1Q3JELE9BQU9jLE9BQU9xQyxXQUFXQyxTQUFVQyxXQUVyQ3JELE9BQU9zRCxhQUFlLFNBQUNDLFVDOEJyQixNRDdCQXZELFFBQU9jLE9BQU93QyxhQUFhQyxTQUFVLElBRXZDdkQsT0FBT3dELGVBQWlCLFdDK0J0QixNRDlCQUMsY0FBYUMsUUFDYjFELE9BQU9jLE9BQVNYLGNBQWNZLGVBRXpCIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcIm9nYW1lQ2FsY3VsYXRvclwiLCBbXSkgIyBNb2R1bGUgZGVmaW5pdGlvblxyXG5vdXQgPVxyXG4gIHZlcmJvc2U6IChzdHJpbmcpIC0+IGNvbnNvbGUubG9nIFwiJWMje3N0cmluZ31cIiwgXCJjb2xvcjogI0JCQjtcIlxyXG4gIGxvZzogKHN0cmluZykgLT4gY29uc29sZS5sb2cgc3RyaW5nXHJcbiAgZGVidWc6IChzdHJpbmcpIC0+IGNvbnNvbGUubG9nIFwiJWMje3N0cmluZ31cIiwgXCJjb2xvcjogIzA4RDtcIlxyXG4gIHN1Y2Nlc3M6IChzdHJpbmcpIC0+IGNvbnNvbGUubG9nIFwiJWMje3N0cmluZ31cIiwgXCJjb2xvcjogIzBBMDtcIlxyXG4gIHdhcm5pbmc6IChzdHJpbmcpIC0+IGNvbnNvbGUubG9nIFwiJWMje3N0cmluZ31cIiwgXCJjb2xvcjogI0Q3MDtcIlxyXG4gIGVycm9yOiAoc3RyaW5nKSAtPiBjb25zb2xlLmxvZyBcIiVjI3tzdHJpbmd9XCIsIFwiY29sb3I6ICNEMDA7XCJcclxuXHJcbm1vZHVsZS5jb25maWcgWyckY29tcGlsZVByb3ZpZGVyJywgKCAkY29tcGlsZVByb3ZpZGVyICkgLT5cclxuICAjIFRoaXMgbGluZSBtYXJrcyBibG9iOiBVUkxzIGFzIHNhZmUsIG90aGVyd2lzZSBleHBvcnRhdGlvbiBkb2Vzbid0IHdvcmtcclxuICAkY29tcGlsZVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3xibG9iKTovKTtcclxuXVxyXG5cclxubW9kdWxlLmNvbnRyb2xsZXIgXCJtYWluQ29udHJvbGxlclwiLCAoJHNjb3BlLCBQbGFuZXQsIEFjY291bnQsIEFjY291bnRMb2FkZXIpIC0+XHJcblxyXG4gICMjIyBDT05TVEFOVFMgIyMjXHJcbiAgJHNjb3BlLkFNUExJRklFUl9MSVNUID0gUGxhbmV0LmFtcGxpZmllckxpc3RcclxuICBQTEFZRVJfS0VZID0gXCJwbGF5ZXJJbmZvXCIgIyBLZXkgdG8gc3RvcmUgcGxheWVyIGluZm8gaW4gbG9jYWwgc3RvcmFnZVxyXG5cclxuICAjIyMgQVVYIFZBUklBQkxFUyBGT1IgRURJVElORyBQTEFORVRTJyBJTkZPICMjI1xyXG4gICRzY29wZS5hdXhQbGFuZXQgPSBuZXcgUGxhbmV0KClcclxuICAkc2NvcGUuc2hvd01vZGFsRGlhbG9nID0gZmFsc2VcclxuICBlZGl0SW5kZXggPSAtMVxyXG5cclxuICAjIyMgREFUQSAjIyNcclxuICAkc2NvcGUucGxheWVyID0gQWNjb3VudExvYWRlci5sb2FkQWNjb3VudChQTEFZRVJfS0VZKVxyXG4gICRzY29wZS5leGNoYW5nZURhdGEgPVxyXG4gICAgZXhwb3J0VXJsOiBcIiNcIlxyXG4gICAgaW1wb3J0RmlsZTogbnVsbFxyXG4gICMgRHVlIHRvIHNvbWUgY2hhbmdlcyBpbiBwbGFuZXRzJyBwcm9wZXJ0aWVzLCBhbXBsaWZpZXJzIG1heSBsb2FkIGluY29ycmVjdGx5LlxyXG4gICMgVGhpcyBpcyBhIHRlbXBvcmFyeSBmaXggdGhhdCB3aWxsIHByZXZlbnQgdGhlIHBhZ2UgZnJvbSBjcmFzaGluZ1xyXG4gIGZvciBwbGFuZXQgaW4gJHNjb3BlLnBsYXllci5wbGFuZXRzXHJcbiAgICBwbGFuZXQubWV0YWxBbXBsaWZpZXIgPz0gMFxyXG4gICAgcGxhbmV0LmNyeXN0YWxBbXBsaWZpZXIgPz0gMFxyXG4gICAgcGxhbmV0LmRldXRlcml1bUFtcGxpZmllciA/PSAwXHJcblxyXG4gICMjIyBXQVRDSEVSUyAjIyNcclxuICAkc2NvcGUuJHdhdGNoKFwicGxheWVyXCIsIC0+XHJcbiAgICBBY2NvdW50TG9hZGVyLnN0b3JlQWNjb3VudChQTEFZRVJfS0VZLCAkc2NvcGUucGxheWVyKVxyXG4gICAgJHNjb3BlLmV4Y2hhbmdlRGF0YS5leHBvcnRVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFxyXG4gICAgICBbSlNPTi5zdHJpbmdpZnkoJHNjb3BlLnBsYXllcildLFxyXG4gICAgICB7dHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJ9XHJcbiAgICApKVxyXG4gICwgdHJ1ZSlcclxuICAkc2NvcGUuJHdhdGNoKFwiZXhjaGFuZ2VEYXRhLmltcG9ydEZpbGVcIiwgLT5cclxuICAgIGlmICRzY29wZS5leGNoYW5nZURhdGEuaW1wb3J0RmlsZVxyXG4gICAgICBvdXQuZGVidWcgXCJJbXBvcnQgZmlsZSBjaGFuZ2VkOiAnI3skc2NvcGUuZXhjaGFuZ2VEYXRhLmltcG9ydEZpbGUubmFtZX0nXCJcclxuICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxyXG4gICAgICByZWFkZXIub25sb2FkID0gKGV2dCkgLT5cclxuICAgICAgICAkc2NvcGUuJGFwcGx5IC0+XHJcbiAgICAgICAgICBqc29uID0gZXZ0LnRhcmdldC5yZXN1bHRcclxuICAgICAgICAgICRzY29wZS5wbGF5ZXIgPSBBY2NvdW50LmdldEZyb21UZW1wbGF0ZShKU09OLnBhcnNlKGpzb24pKVxyXG4gICAgICByZWFkZXIucmVhZEFzVGV4dCgkc2NvcGUuZXhjaGFuZ2VEYXRhLmltcG9ydEZpbGUpXHJcbiAgICBlbHNlIG91dC5kZWJ1ZyBcIkVtcHR5IGltcG9ydCBmaWxlIVwiXHJcbiAgKVxyXG5cclxuICAjIyMgRlVOQ1RJT05TICMjI1xyXG4gICRzY29wZS5jcmVhdGVQbGFuZXQgPSAtPlxyXG4gICAgJHNjb3BlLmF1eFBsYW5ldCA9IG5ldyBQbGFuZXQoXCJOZXcgUGxhbmV0XCIsIFsxLDEsMV0sIDUwKVxyXG4gICAgJHNjb3BlLnNob3dNb2RhbERpYWxvZyA9IHRydWVcclxuICAgIGVkaXRJbmRleCA9IC0xXHJcblxyXG4gICRzY29wZS5lZGl0UGxhbmV0ID0gKGluZGV4KSAtPlxyXG4gICAgcGxhbmV0ID0gJHNjb3BlLnBsYXllci5wbGFuZXRzW2luZGV4XVxyXG4gICAgJHNjb3BlLmF1eFBsYW5ldCA9IG5ldyBQbGFuZXQoXHJcbiAgICAgIHBsYW5ldC5uYW1lLFxyXG4gICAgICBbcGxhbmV0LmNvb3JkaW5hdGVzWzBdLHBsYW5ldC5jb29yZGluYXRlc1sxXSxwbGFuZXQuY29vcmRpbmF0ZXNbMl1dLFxyXG4gICAgICBwbGFuZXQubWF4VGVtcFxyXG4gICAgKVxyXG4gICAgJHNjb3BlLnNob3dNb2RhbERpYWxvZyA9IHRydWVcclxuICAgIGVkaXRJbmRleCA9IGluZGV4XHJcblxyXG4gICRzY29wZS5zYXZlUGxhbmV0ID0gKCkgLT5cclxuICAgIGlmIGVkaXRJbmRleCA+PSAwXHJcbiAgICAgIHBsYW5ldCA9ICRzY29wZS5wbGF5ZXIucGxhbmV0c1tlZGl0SW5kZXhdXHJcbiAgICAgIHBsYW5ldC5uYW1lID0gJHNjb3BlLmF1eFBsYW5ldC5uYW1lXHJcbiAgICAgIHBsYW5ldC5jb29yZGluYXRlcyA9ICRzY29wZS5hdXhQbGFuZXQuY29vcmRpbmF0ZXNcclxuICAgICAgcGxhbmV0Lm1heFRlbXAgPSAkc2NvcGUuYXV4UGxhbmV0Lm1heFRlbXBcclxuICAgIGVsc2UgJHNjb3BlLnBsYXllci5hZGRQbGFuZXQoJHNjb3BlLmF1eFBsYW5ldClcclxuXHJcbiAgJHNjb3BlLm1vdmVQbGFuZXQgPSAoc3RhcnRQb3MsIGZpbmFsUG9zKSAtPlxyXG4gICAgb3V0LnN1Y2Nlc3MgXCJNb3ZpbmcgcGxhbmV0ICN7c3RhcnRQb3N9IHRvICN7ZmluYWxQb3N9XCJcclxuICAgICRzY29wZS5wbGF5ZXIubW92ZVBsYW5ldChzdGFydFBvcywgZmluYWxQb3MpXHJcblxyXG4gICRzY29wZS5yZW1vdmVQbGFuZXQgPSAocG9zaXRpb24pIC0+XHJcbiAgICAkc2NvcGUucGxheWVyLnJlbW92ZVBsYW5ldChwb3NpdGlvbiwgMSlcclxuXHJcbiAgJHNjb3BlLmNsZWFyTG9jYWxEYXRhID0gLT5cclxuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpXHJcbiAgICAkc2NvcGUucGxheWVyID0gQWNjb3VudExvYWRlci5sb2FkQWNjb3VudCgpXHJcblxyXG4gIHJldHVybiBudWxsIixudWxsXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=